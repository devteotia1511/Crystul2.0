{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///Users/devteotia/Downloads/Crystul2.0/lib/env-validation.ts"],"sourcesContent":["/**\n * Environment Variable Validation\n * \n * This utility validates that all required environment variables are present\n * and provides helpful error messages if any are missing.\n */\n\nexport function validateEnvironmentVariables() {\n  const requiredVars = [\n    'NEXTAUTH_URL',\n    'NEXTAUTH_SECRET',\n    'GOOGLE_CLIENT_ID',\n    'GOOGLE_CLIENT_SECRET',\n    'NEXT_PUBLIC_FIREBASE_API_KEY',\n    'NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN',\n    'NEXT_PUBLIC_FIREBASE_PROJECT_ID',\n    'NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET',\n    'NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID',\n    'NEXT_PUBLIC_FIREBASE_APP_ID',\n    'MONGODB_URI'\n  ];\n\n  const missingVars: string[] = [];\n  const placeholderVars: string[] = [];\n\n  for (const varName of requiredVars) {\n    const value = process.env[varName];\n    \n    if (!value) {\n      missingVars.push(varName);\n    } else if (value.includes('your-') || value.includes('placeholder')) {\n      placeholderVars.push(varName);\n    }\n  }\n\n  if (missingVars.length > 0) {\n    throw new Error(`Missing required environment variables: ${missingVars.join(', ')}`);\n  }\n\n  // Only warn about placeholder values in development, don't throw\n  if (placeholderVars.length > 0) {\n    console.warn(`⚠️  Environment variables contain placeholder values: ${placeholderVars.join(', ')}. Please set actual values for production.`);\n  }\n}\n\nexport function validateEnvironmentVariablesOnStartup() {\n  if (typeof window === 'undefined') {\n    // Only run on server-side\n    try {\n      validateEnvironmentVariables();\n    } catch (error: unknown) {\n      const errorMessage = error instanceof Error ? error.message : 'Unknown error';\n      console.error('Environment validation failed:', errorMessage);\n      // Don't throw in production to avoid breaking the app\n      if (process.env.NODE_ENV === 'development') {\n        console.warn('⚠️  Continuing with placeholder values for development...');\n      }\n    }\n  }\n}\n\nexport function getRequiredEnvVar(name: string): string {\n  const value = process.env[name];\n  if (!value) {\n    throw new Error(`Environment variable ${name} is required but not set`);\n  }\n  \n  // In development, allow placeholder values but warn\n  if (value.includes('your-') || value.includes('placeholder')) {\n    console.warn(`⚠️  Environment variable ${name} contains placeholder value. This will not work in production.`);\n    // For development, return the placeholder value instead of throwing\n    if (process.env.NODE_ENV === 'development') {\n      return value;\n    }\n  }\n  \n  return value;\n}\n\nexport function getOptionalEnvVar(name: string, defaultValue: string = ''): string {\n  return process.env[name] || defaultValue;\n}"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;;;;;;;AAEM,SAAS;IACd,MAAM,eAAe;QACnB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAED,MAAM,cAAwB,EAAE;IAChC,MAAM,kBAA4B,EAAE;IAEpC,KAAK,MAAM,WAAW,aAAc;QAClC,MAAM,QAAQ,QAAQ,GAAG,CAAC,QAAQ;QAElC,IAAI,CAAC,OAAO;YACV,YAAY,IAAI,CAAC;QACnB,OAAO,IAAI,MAAM,QAAQ,CAAC,YAAY,MAAM,QAAQ,CAAC,gBAAgB;YACnE,gBAAgB,IAAI,CAAC;QACvB;IACF;IAEA,IAAI,YAAY,MAAM,GAAG,GAAG;QAC1B,MAAM,IAAI,MAAM,CAAC,wCAAwC,EAAE,YAAY,IAAI,CAAC,OAAO;IACrF;IAEA,iEAAiE;IACjE,IAAI,gBAAgB,MAAM,GAAG,GAAG;QAC9B,QAAQ,IAAI,CAAC,CAAC,sDAAsD,EAAE,gBAAgB,IAAI,CAAC,MAAM,0CAA0C,CAAC;IAC9I;AACF;AAEO,SAAS;IACd,wCAAmC;QACjC,0BAA0B;QAC1B,IAAI;YACF;QACF,EAAE,OAAO,OAAgB;YACvB,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG;YAC9D,QAAQ,KAAK,CAAC,kCAAkC;YAChD,sDAAsD;YACtD,wCAA4C;gBAC1C,QAAQ,IAAI,CAAC;YACf;QACF;IACF;AACF;AAEO,SAAS,kBAAkB,IAAY;IAC5C,MAAM,QAAQ,QAAQ,GAAG,CAAC,KAAK;IAC/B,IAAI,CAAC,OAAO;QACV,MAAM,IAAI,MAAM,CAAC,qBAAqB,EAAE,KAAK,wBAAwB,CAAC;IACxE;IAEA,oDAAoD;IACpD,IAAI,MAAM,QAAQ,CAAC,YAAY,MAAM,QAAQ,CAAC,gBAAgB;QAC5D,QAAQ,IAAI,CAAC,CAAC,yBAAyB,EAAE,KAAK,8DAA8D,CAAC;QAC7G,oEAAoE;QACpE,wCAA4C;YAC1C,OAAO;QACT;IACF;IAEA,OAAO;AACT;AAEO,SAAS,kBAAkB,IAAY,EAAE,eAAuB,EAAE;IACvE,OAAO,QAAQ,GAAG,CAAC,KAAK,IAAI;AAC9B"}},
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///Users/devteotia/Downloads/Crystul2.0/lib/mongodb.ts"],"sourcesContent":["import mongoose from 'mongoose';\nimport { getRequiredEnvVar } from './env-validation';\n\nconst MONGODB_URI = getRequiredEnvVar('MONGODB_URI');\n\nlet cached = (global as any).mongoose;\n\nif (!cached) {\n  cached = {\n    conn: null,\n    promise: null,\n  };\n  (global as any).mongoose = cached;\n}\n\nasync function dbConnect() {\n  // In development, if MongoDB URI is a placeholder, skip connection\n  if (process.env.NODE_ENV === 'development' && \n      (MONGODB_URI.includes('your-') || MONGODB_URI.includes('placeholder'))) {\n    console.warn('⚠️  Skipping MongoDB connection in development due to placeholder URI');\n    return null;\n  }\n\n  if (cached.conn) return cached.conn;\n\n  if (!cached.promise) {\n    cached.promise = mongoose.connect(MONGODB_URI, {\n      bufferCommands: false,\n    }).then((mongoose) => mongoose);\n  }\n\n  cached.conn = await cached.promise;\n  return cached.conn;\n}\n\nexport default dbConnect;"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,cAAc,IAAA,+IAAiB,EAAC;AAEtC,IAAI,SAAS,yDAAgB,QAAQ;AAErC,IAAI,CAAC,QAAQ;IACX,SAAS;QACP,MAAM;QACN,SAAS;IACX;IACA,yDAAgB,QAAQ,GAAG;AAC7B;AAEA,eAAe;IACb,mEAAmE;IACnE,IAAI,oDAAyB,iBACzB,CAAC,YAAY,QAAQ,CAAC,YAAY,YAAY,QAAQ,CAAC,cAAc,GAAG;QAC1E,QAAQ,IAAI,CAAC;QACb,OAAO;IACT;IAEA,IAAI,OAAO,IAAI,EAAE,OAAO,OAAO,IAAI;IAEnC,IAAI,CAAC,OAAO,OAAO,EAAE;QACnB,OAAO,OAAO,GAAG,oHAAQ,CAAC,OAAO,CAAC,aAAa;YAC7C,gBAAgB;QAClB,GAAG,IAAI,CAAC,CAAC,WAAa;IACxB;IAEA,OAAO,IAAI,GAAG,MAAM,OAAO,OAAO;IAClC,OAAO,OAAO,IAAI;AACpB;uCAEe"}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file:///Users/devteotia/Downloads/Crystul2.0/models/User.ts"],"sourcesContent":["import mongoose from 'mongoose';\n\nconst userSchema = new mongoose.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true,\n    unique: true,\n    lowercase: true\n  },\n  password: {\n    type: String,\n    required: false // Make password optional for Google users\n  },\n  avatar: {\n    type: String\n  },\n  bio: {\n    type: String\n  },\n  skills: [{\n    type: String\n  }],\n  interests: [{\n    type: String\n  }],\n  experience: {\n    type: String,\n    enum: ['Beginner', 'Intermediate', 'Expert'],\n    default: 'Beginner'\n  },\n  lookingFor: [{\n    type: String\n  }],\n  location: {\n    type: String\n  },\n  timezone: {\n    type: String\n  },\n  isPublic: {\n    type: Boolean,\n    default: true\n  },\n  connections: [{\n    type: String\n  }],\n  createdAt: {\n    type: Date,\n    default: Date.now\n  }\n});\n\nexport default mongoose.models.User || mongoose.model('User', userSchema);"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,aAAa,IAAI,oHAAQ,CAAC,MAAM,CAAC;IACrC,MAAM;QACJ,MAAM;QACN,UAAU;IACZ;IACA,OAAO;QACL,MAAM;QACN,UAAU;QACV,QAAQ;QACR,WAAW;IACb;IACA,UAAU;QACR,MAAM;QACN,UAAU,MAAM,0CAA0C;IAC5D;IACA,QAAQ;QACN,MAAM;IACR;IACA,KAAK;QACH,MAAM;IACR;IACA,QAAQ;QAAC;YACP,MAAM;QACR;KAAE;IACF,WAAW;QAAC;YACV,MAAM;QACR;KAAE;IACF,YAAY;QACV,MAAM;QACN,MAAM;YAAC;YAAY;YAAgB;SAAS;QAC5C,SAAS;IACX;IACA,YAAY;QAAC;YACX,MAAM;QACR;KAAE;IACF,UAAU;QACR,MAAM;IACR;IACA,UAAU;QACR,MAAM;IACR;IACA,UAAU;QACR,MAAM;QACN,SAAS;IACX;IACA,aAAa;QAAC;YACZ,MAAM;QACR;KAAE;IACF,WAAW;QACT,MAAM;QACN,SAAS,KAAK,GAAG;IACnB;AACF;uCAEe,oHAAQ,CAAC,MAAM,CAAC,IAAI,IAAI,oHAAQ,CAAC,KAAK,CAAC,QAAQ"}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["file:///Users/devteotia/Downloads/Crystul2.0/app/api/auth/register/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\nimport dbConnect from \"@/lib/mongodb\";\nimport User from \"@/models/User\";\nimport bcrypt from \"bcryptjs\";\n\nexport async function POST(request: NextRequest) {\n  try {\n    const { name, email, password } = await request.json();\n\n    // Validate input\n    if (!name || !email || !password) {\n      return NextResponse.json(\n        { success: false, message: \"All fields are required\" },\n        { status: 400 }\n      );\n    }\n\n    if (password.length < 6) {\n      return NextResponse.json(\n        { success: false, message: \"Password must be at least 6 characters long\" },\n        { status: 400 }\n      );\n    }\n\n    const dbConnection = await dbConnect();\n\n    // If no database connection (development with placeholder), return success\n    if (!dbConnection) {\n      console.warn('⚠️  No database connection in development, simulating successful registration');\n      return NextResponse.json(\n        { success: true, message: \"Account created successfully (demo mode)\" },\n        { status: 201 }\n      );\n    }\n\n    // Check if user already exists\n    const existingUser = await User.findOne({ email });\n    if (existingUser) {\n      return NextResponse.json(\n        { success: false, message: \"User with this email already exists\" },\n        { status: 400 }\n      );\n    }\n\n    // Hash password\n    const hashedPassword = await bcrypt.hash(password, 12);\n\n    // Create new user\n    const newUser = new User({\n      name,\n      email,\n      password: hashedPassword,\n      skills: [],\n      interests: [],\n      experience: \"Beginner\",\n      lookingFor: [],\n      createdAt: new Date(),\n    });\n\n    await newUser.save();\n\n    return NextResponse.json(\n      { success: true, message: \"Account created successfully\" },\n      { status: 201 }\n    );\n  } catch (error) {\n    console.error(\"Registration error:\", error);\n    return NextResponse.json(\n      { success: false, message: \"Internal server error\" },\n      { status: 500 }\n    );\n  }\n} "],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEpD,iBAAiB;QACjB,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU;YAChC,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,SAAS;YAA0B,GACrD;gBAAE,QAAQ;YAAI;QAElB;QAEA,IAAI,SAAS,MAAM,GAAG,GAAG;YACvB,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,SAAS;YAA8C,GACzE;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,eAAe,MAAM,IAAA,2HAAS;QAEpC,2EAA2E;QAC3E,IAAI,CAAC,cAAc;YACjB,QAAQ,IAAI,CAAC;YACb,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAM,SAAS;YAA2C,GACrE;gBAAE,QAAQ;YAAI;QAElB;QAEA,+BAA+B;QAC/B,MAAM,eAAe,MAAM,2HAAI,CAAC,OAAO,CAAC;YAAE;QAAM;QAChD,IAAI,cAAc;YAChB,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,SAAS;YAAsC,GACjE;gBAAE,QAAQ;YAAI;QAElB;QAEA,gBAAgB;QAChB,MAAM,iBAAiB,MAAM,8IAAM,CAAC,IAAI,CAAC,UAAU;QAEnD,kBAAkB;QAClB,MAAM,UAAU,IAAI,2HAAI,CAAC;YACvB;YACA;YACA,UAAU;YACV,QAAQ,EAAE;YACV,WAAW,EAAE;YACb,YAAY;YACZ,YAAY,EAAE;YACd,WAAW,IAAI;QACjB;QAEA,MAAM,QAAQ,IAAI;QAElB,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAM,SAAS;QAA+B,GACzD;YAAE,QAAQ;QAAI;IAElB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uBAAuB;QACrC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,SAAS;QAAwB,GACnD;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}